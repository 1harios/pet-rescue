<section class="pt-5 pb-5" id="adoptable_dogs_show">
  <div class="container mb-md-5 mt-md-5">

    <!--page heading-->
    <div class="text-center mb-5">
      <h1 class="section-heading text-uppercase underline">
        <%= @dog.name %>
      </h1>
    </div>

    <!--dog tile-->
    <div class="row">
      <div class="col-lg-8">

        <div class="p-2 text-center d-flex flex-wrap">
            <%= link_to 'Edit', edit_dog_path(@dog), 
                        class: 'custom-btn-green me-3 mb-2' %>
            
            <% if @dog.adoption %>
              <%= link_to 'Adopter', 
                          profile_review_path(@dog.adoption
                                                  .adopter_account
                                                  .adopter_profile.id),
                          class: 'custom-btn-green me-3 mb-2'%>
            <% end %>

            <%= link_to 'Delete', dog_path(@dog), class: 'custom-btn-pink ms-3 mb-2',
                  data: 
                        {
                  turbo_method: :delete,
                  turbo_confirm: "Are you sure you want to delete this dog?"
                } %>        
          </div>

        <!--dog images--> 
        <% if @dog.images.attached? %>
          <div id="carouselExampleIndicators" class="carousel slide mb-5" data-bs-ride="carousel">
            <div class="carousel-indicators">
              <% @dog.images.each_with_index do |image, index| %>
                <button type="button" data-bs-target="#carouselExampleIndicators" 
                        data-bs-slide-to="<%= index %>" class="active" aria-current="true" 
                        aria-label="Slide <%= index %>"></button>
              <% end %>
            </div>
            <div class="carousel-inner">
              <% @dog.images.each_with_index do |image, index| %>
                  <div class="carousel-item <%= index == 0 ? 'active' : '' %>">
                  <%= image_tag image, class: 'd-block w-100 rounded' %>
                  </div>
              <% end %>
            </div>
            <button class="carousel-control-prev" type="button" 
                    data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
              <span class="carousel-control-prev-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Previous</span>
            </button>
            <button class="carousel-control-next" type="button" 
                    data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
              <span class="carousel-control-next-icon" aria-hidden="true"></span>
              <span class="visually-hidden">Next</span>
            </button>
          </div>
        <% end %>
          
        <!--dog info-->
        <div class='row mb-3'>
          <div class='col-md-3 mb-1'>
            <h5 style='font-weight: bold;'>Age:</h5>
            <h5><%= @dog.age %></h5>
          </div>
          <div class='col-md-3 mb-1'>
            <h5 style='font-weight: bold;'>Sex:</h5>
            <h5><%= @dog.sex %></h5>
          </div>
          <div class='col-md-3 mb-1'>
            <h5 style='font-weight: bold;'>Breed:</h5>
            <h5><%= @dog.breed %></h5>
          </div>
          <div class='col-md-3 mb-1'>
            <h5 style='font-weight: bold;'>Size:</h5>
            <h5> <%= @dog.size %></h5>
          </div>
        </div>

        <h4 style='font-weight: bold;' class=''>
          About <%= @dog.name %>
        </h4>
        <p style="white-space: pre-line;">
          <%= @dog.description %>
        </p>
      </div> <!--col-->

      <!--button area-->
      <div class="col-lg-4 mx-auto d-flex align-items-center 
                    justify-content-center mt-4">        
        <div class="border p-5 rounded text-center d-flex flex-wrap">
          
          <div class='d-flex'>
            <h4>
              Applications are
              <%= @dog.application_paused == true ? 'paused' : 'active' %>
            </h4>
            <%= @dog.application_paused == true ? image_tag('favicon.png', height: '20'): image_tag('green_check.png', height: '20')%>
          </div>

          <%= form_with model: @dog do |form|%>
            <div data-display-target='checked'>
              <div class = d-flex>
                <p class='bigger me-2'>Pause Applications?</p>
                <%= form.label :application_paused, 'Yes', value: 'true', class: 'bigger me-2' %>
                <%= form.radio_button :application_paused, 
                                      true, 
                                      data: { action: "input->display#show" } %>
                <%= form.label :application_paused, 'No', value: 'false', class: 'ms-3 bigger me-2' %>
                <%= form.radio_button :application_paused, 
                                      false, 
                                      data: { action: "input->display#hide" } %>
              </div>
            </div>

            <div class="form-group">
              <%= form.label :status, 'Application status', class: 'bigger' %>
              <%= form.select(:status, 
                              Dog.app_pause_reasons, 
                              {}, 
                              {:class => "form-control"}) %>
            </div>
            <%= form.submit 'Save', class: 'btn btn-outline-dark mb-3 mt-4' %>
          <% end %>
        </div>
      </div> <!--col-->
    </div> <!--row-->
  </div> <!--container-->
</section>
